@use "sass:math";
@use "sass:map";

//Variables

$animation-appear: appear;
$buttons-tab-number: 4;
$divs-col-margin-y: 10px;
$form-buttons-padding: 10px 30px;
$map-appear: (
    "identifier": ".tab-pane.fade.active.show",
    "name": $animation-appear,
    "delay": 0.1s,
    "duration": 1s,
    "fill-mode": forwards,
    "count": 1,
    "timing-function": linear
);
$navs-buttons-padding:10px 50px;
$navs-tab-margin-y: 30px;
$tab-pane-width: 90%;
$rows-2-flights-elem: 3;
$xs-breakpoint: 575px;


//Mixins

@mixin animation-appear-style($map){
    $animation-name: map.get($map, 'name');
    @keyframes #{$animation-appear} {
        0%{ opacity: 0;}
        100%{ opacity: 1;}
    }
    $identifier: map.get($map,'identifier');
    #{$identifier}{
        animation-name: $animation-name;
        animation-delay: map.get($map,'delay');
        animation-duration: map.get($map,'duration');
        animation-fill-mode: map.get($map,'fill-mode');
        animation-iteration-count: map.get($map,'count');
        animation-timing-function: map.get($map,'timing-function');
    }
}

@mixin col-style(){ 
    div.row>div{
        margin: $divs-col-margin-y 0px;
    }
}

@mixin tab-style(){
    div.fb-tab{
        nav{
            display: flex;
            justify-content: center;
            div.nav-tabs{
                width: $tab-pane-width;
                margin: $navs-tab-margin-y auto;
                button{
                    width: math.div(100%,$buttons-tab-number);
                    padding: $navs-buttons-padding;
                }
            }
        }
    }
    div.tab-pane{
        opacity: 0;
        width: $tab-pane-width;
        margin: $navs-tab-margin-y auto;
    }
}

@mixin flights(){
    $elems: 5;
    @for $i from 1 through $elems{
        #fb-fs#{$i}{
            padding: 20px auto;
            @if $i == 1{
                div * {
                    margin-right: 5px;
                }
            }
            @else{
                * {
                    margin-right: 20px;
                }
                
            }
            @if $i == 4{
                display: none;
            }
            @if $i == 6{
                @media only screen and (max-width: $xs-breakpoint){
                    div:nth-child(5){
                        display: flex;
                        justify-content: center;
                    }
                }
                button{
                    padding: $form-buttons-padding;
                }
            }
        }
    }
}

@mixin rent-car(){
    $margin-y: 15px;
    $elems: 4;
    @for $i from 1 through $elems{
        #fb-rc#{$i}>div{
            margin: $margin-y auto;
        }
    }
    #fb-rentcarloc{
        width: 100%;
    }
}

@mixin rooms(){
    #fb-hotelloc{
        width: 100%;
    }
}

//Exec
@include animation-appear-style($map-appear);
@include col-style();
@include tab-style();
@include flights();
@include rent-car();
@include rooms();